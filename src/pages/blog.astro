---
import Layout from "../layouts/Layout.astro";
import { Image } from "astro:assets";
import { fetchPosts } from "../lib/strapi";

const posts = await fetchPosts();
console.log(posts);
---

<Layout title="Blog" header="jns.net.ar">
    <div class="flex h-full items-center justify-center text-center mb-8">
        <h1 class="text-4xl font-bold">
            Coming <span class="highlight">soon...</span>
        </h1>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 w-full">
        {
            posts &&
                posts.map((post) => (
                    <div class="border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow">
                        <a
                            href={`/post/${post.id}`}
                            class="text-blue-600 hover:underline block"
                        >
                            <h2 class="text-xl font-semibold mb-2">{post.Title}</h2>
                        </a>
                        <p class="text-gray-700 mb-3">{post.excerpt}</p>
                        <p class="text-gray-600 text-sm">{post.Description}</p>
                    </div>
                ))
        }
        {
            !posts && (
                <div class="border border-gray-200 rounded-lg p-4 col-span-1 md:col-span-2">
                    <p class="text-gray-500 text-center">No posts available at the moment.</p>
                </div>
            )
        }
    </div>
</Layout>